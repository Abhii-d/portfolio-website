# Copilot Instructions - Portfolio Website

## Project Overview

Senior Software Developer portfolio website built with Next.js 14, TypeScript, and Tailwind CSS. Focus on minimalist design, performance, and maintainability.

## Architecture Principles

### 1. Code Organization

- Follow Next.js 14 App Router conventions
- Use feature-based folder structure
- Separate concerns: UI, data, business logic
- Keep components small and focused (< 200 lines)
- Use barrel exports for clean imports

### 2. Component Architecture

```typescript
// Preferred component structure
interface ComponentProps {
  // Always define explicit props interface
}

export function Component({ prop }: ComponentProps) {
  // 1. Hooks at the top
  // 2. Event handlers
  // 3. Derived state/computed values
  // 4. Early returns
  // 5. Main render
}
```

### 3. File Naming Conventions

- Components: PascalCase (`Hero.tsx`, `ProjectCard.tsx`)
- Utilities: camelCase (`formatDate.ts`, `validateEmail.ts`)
- Constants: UPPER_SNAKE_CASE (`API_ENDPOINTS.ts`)
- Types: PascalCase with descriptive names (`Experience.ts`, `Project.ts`)

## TypeScript Standards

### 1. Type Safety

```typescript
// Always use explicit types
interface User {
  id: string;
  name: string;
  email: string;
}

// Avoid 'any' - use 'unknown' if necessary
function processData(data: unknown): ProcessedData {
  // Type guards for unknown data
}

// Use const assertions for immutable data
const SKILLS = ['TypeScript', 'Node.js'] as const;
type Skill = (typeof SKILLS)[number];
```

### 2. Props and Interfaces

```typescript
// Use composition over inheritance
interface BaseProps {
  className?: string;
  children?: React.ReactNode;
}

interface ButtonProps extends BaseProps {
  variant: 'primary' | 'secondary';
  onClick: () => void;
  disabled?: boolean;
}

// Use generic types when appropriate
interface ApiResponse<T> {
  data: T;
  status: 'success' | 'error';
  message?: string;
}
```

### 3. Error Handling

```typescript
// Use Result pattern for error handling
type Result<T, E = Error> =
  | { success: true; data: T }
  | { success: false; error: E };

// Always handle async operations properly
async function fetchProjects(): Promise<Result<Project[]>> {
  try {
    const projects = await import('../data/projects.json');
    return { success: true, data: projects.default };
  } catch (error) {
    return { success: false, error: error as Error };
  }
}
```

## React Best Practices

### 1. Component Patterns

```typescript
// Use composition over prop drilling
const ThemeContext = createContext<ThemeContextType>();

// Custom hooks for reusable logic
function useLocalStorage<T>(key: string, initialValue: T) {
  // Implementation
}

// Prefer function components with hooks
function Component() {
  // Use useCallback for event handlers
  const handleClick = useCallback(() => {
    // Implementation
  }, [dependencies]);

  // Use useMemo for expensive calculations
  const expensiveValue = useMemo(() => {
    return heavyCalculation(data);
  }, [data]);
}
```

### 2. Performance Optimization

```typescript
// Use React.memo for expensive components
export const ProjectCard = React.memo(function ProjectCard({ project }: Props) {
  // Component implementation
});

// Lazy load components when appropriate
const ContactForm = lazy(() => import('./ContactForm'));

// Use Next.js Image component for all images
import Image from 'next/image';
```

### 3. State Management

```typescript
// Prefer local state over global state
// Use useReducer for complex state logic
interface State {
  isLoading: boolean;
  data: Project[] | null;
  error: string | null;
}

type Action =
  | { type: 'LOADING' }
  | { type: 'SUCCESS'; payload: Project[] }
  | { type: 'ERROR'; payload: string };

function projectsReducer(state: State, action: Action): State {
  switch (action.type) {
    case 'LOADING':
      return { ...state, isLoading: true, error: null };
    // ... other cases
  }
}
```

## CSS and Styling Standards

### 1. Tailwind CSS Guidelines

```typescript
// Use consistent spacing scale
className="p-4 m-2 gap-4" // 16px spacing unit

// Group classes logically
className="
  flex items-center justify-between
  p-4 rounded-lg shadow-md
  bg-white dark:bg-gray-800
  hover:shadow-lg transition-shadow duration-200
"

// Extract complex styles to components
const cardStyles = "p-6 rounded-lg shadow-md bg-white dark:bg-gray-800"
```

### 2. Responsive Design

```typescript
// Mobile-first approach
className="
  text-sm md:text-base lg:text-lg
  grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3
  px-4 md:px-6 lg:px-8
"

// Use semantic breakpoints
const breakpoints = {
  sm: '640px',
  md: '768px',
  lg: '1024px',
  xl: '1280px',
} as const
```

### 3. Dark Mode Implementation

```typescript
// Use CSS variables for theme values
:root {
  --color-primary: 14 165 233;
  --color-background: 240 249 255;
}

.dark {
  --color-primary: 56 189 248;
  --color-background: 15 23 42;
}

// Tailwind classes
className="bg-blue-50 dark:bg-slate-900"
```

## Performance Standards

### 1. Core Web Vitals Targets

- First Contentful Paint (FCP): < 1.8s
- Largest Contentful Paint (LCP): < 2.5s
- First Input Delay (FID): < 100ms
- Cumulative Layout Shift (CLS): < 0.1

### 2. Optimization Techniques

```typescript
// Use Next.js optimizations
import Image from 'next/image'
import { Inter } from 'next/font/google'
import dynamic from 'next/dynamic'

// Font optimization
const inter = Inter({ subsets: ['latin'] })

// Dynamic imports for code splitting
const ContactForm = dynamic(() => import('./ContactForm'), {
  loading: () => <div>Loading...</div>
})

// Image optimization
<Image
  src="/profile.jpg"
  alt="Abhishek Dongare"
  width={400}
  height={400}
  priority // for above-the-fold images
  placeholder="blur"
  blurDataURL="data:image/jpeg;base64,..."
/>
```

### 3. Bundle Size Management

```typescript
// Use tree shaking friendly imports
import { debounce } from 'lodash/debounce'; // âœ… Good
import _ from 'lodash'; // âŒ Avoid

// Lazy load heavy components
const Chart = dynamic(() => import('./Chart'), { ssr: false });
```

## Accessibility Standards (WCAG 2.1 AA)

### 1. Semantic HTML

```typescript
// Use proper heading hierarchy
<h1>Abhishek Dongare</h1>
<h2>Work Experience</h2>
<h3>Senior Software Developer</h3>

// Use semantic elements
<main>
  <section aria-labelledby="experience-heading">
    <h2 id="experience-heading">Work Experience</h2>
  </section>
</main>
```

### 2. ARIA and Focus Management

```typescript
// Proper ARIA labels
<button aria-label="Toggle dark mode" aria-pressed={isDark}>
  <span aria-hidden="true">ðŸŒ™</span>
</button>

// Focus management
<div role="tabpanel" tabIndex={-1} aria-labelledby="tab-1">
  {/* Panel content */}
</div>
```

### 3. Color and Contrast

```typescript
// Ensure proper contrast ratios
const colors = {
  text: 'text-gray-900 dark:text-gray-100', // 4.5:1 minimum
  link: 'text-blue-600 dark:text-blue-400',
  background: 'bg-white dark:bg-gray-900',
};
```

## Testing Standards

### 1. Component Testing

```typescript
// Test user interactions, not implementation
describe('ContactForm', () => {
  it('should submit form with valid data', async () => {
    render(<ContactForm />)

    await user.type(screen.getByLabelText(/name/i), 'John Doe')
    await user.type(screen.getByLabelText(/email/i), 'john@example.com')
    await user.click(screen.getByRole('button', { name: /send/i }))

    expect(screen.getByText(/message sent/i)).toBeInTheDocument()
  })
})
```

### 2. Type Testing

```typescript
// Use TypeScript for compile-time testing
// Create type-only test files when needed
type Tests = [
  Expect<Equal<Project['id'], string>>,
  Expect<Equal<Experience['technologies'], string[]>>,
];
```

## Security Best Practices

### 1. Data Validation

```typescript
// Validate all external data
import { z } from 'zod';

const ContactFormSchema = z.object({
  name: z.string().min(2).max(100),
  email: z.string().email(),
  message: z.string().min(10).max(1000),
});

type ContactForm = z.infer<typeof ContactFormSchema>;
```

### 2. Sanitization

```typescript
// Sanitize user inputs
import DOMPurify from 'isomorphic-dompurify';

function sanitizeContent(content: string): string {
  return DOMPurify.sanitize(content);
}
```

## Environment and Configuration

### 1. Environment Variables

```typescript
// Use Next.js environment variable conventions
NEXT_PUBLIC_SITE_URL=https://yoursite.com
EMAILJS_SERVICE_ID=your_service_id

// Validate environment variables
const env = {
  SITE_URL: process.env.NEXT_PUBLIC_SITE_URL!,
  EMAILJS_SERVICE_ID: process.env.EMAILJS_SERVICE_ID!,
}
```

### 2. Configuration Files

```typescript
// Keep configuration in separate files
export const siteConfig = {
  name: 'Abhishek Dongare',
  description: 'Senior Software Developer Portfolio',
  url: 'https://your-portfolio.com',
  ogImage: 'https://your-portfolio.com/og.jpg',
  links: {
    github: 'https://github.com/yourusername',
    linkedin: 'https://linkedin.com/in/yourusername',
  },
} as const;
```

## Code Quality Tools

### 1. ESLint Configuration

- Extend: `next/core-web-vitals`, `@typescript-eslint/recommended`
- Rules: Enforce consistent imports, unused variables, etc.

### 2. Prettier Configuration

- Semi: true
- Single quote: true
- Tab width: 2
- Trailing comma: es5

### 3. Git Hooks

- Pre-commit: Lint and format code
- Pre-push: Run type checking and tests

## Documentation Standards

### 1. Code Comments

```typescript
/**
 * Fetches and formats project data from JSON files
 * @returns Promise resolving to formatted project array
 * @throws Error if project data is invalid
 */
async function getProjects(): Promise<FormattedProject[]> {
  // Implementation
}

// Use JSDoc for complex functions
// Inline comments for business logic only
```

### 2. README and Documentation

- Clear setup instructions
- Available scripts explanation
- Deployment guidelines
- Contributing guidelines

## Project-Specific Rules

### 1. Data Management

- All static data in JSON files under `/data`
- Type interfaces must match JSON structure
- Validate data structure at build time

### 2. Component Structure

- One component per file
- Export interfaces from same file
- Use named exports for components

### 3. Performance Budget

- Initial bundle size: < 100KB gzipped
- Image sizes: Use Next.js Image with proper dimensions
- Font loading: Preload critical fonts

Remember: These guidelines prioritize maintainability, performance, and user experience. Follow them consistently but use judgment when specific situations require exceptions.
